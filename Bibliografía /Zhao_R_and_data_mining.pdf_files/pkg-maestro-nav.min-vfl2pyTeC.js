define("modules/clean/appshell/account",["require","exports","modules/core/uri"],(function(e,t,a){"use strict";function r(e,t,a,r){if(r===a)return null;var s=o(e);if(parseInt(r.toString(),10)!==r)throw new Error("switchAccount takes an integer subjectUidToSwitchTo. got: "+r);var i=t.getUserById(r).role,c=s.getPath();return"/history"===c.substr(0,8)||"/event_details"===c.substr(0,14)?(s.setPath("/"+i),s.toString()):("/team"===c.substr(0,5)?s.setPath("/personal"):"/photos"===c.substr(0,7)?s.setPath("/work"):"/work"===c?s.setPath("/personal"):"/personal"===c&&s.setPath("/work"),n(c)?(s.setPath("/"+i),s.toString()):(s.setQuery({role:i}),s.toString()))}function n(e){return"/scl"===e.substr(0,4)||"/sh"===e.substr(0,3)||"/s"===e.substr(0,2)}function o(e){for(var t=a.URI.parse(e),r=t.getPath(),n=0,o=["/work","/personal","/home","/history","/s","/sh","/scl","/team/admin/members","/team/admin/team_folders","/team/admin/content","/team/admin/billing","/team/admin/settings","/enterprise_console/settings","/enterprise_console/teams"];n<o.length;n++){var s=o[n];if(r===s||0===r.indexOf(s+"/")){r=s;break}}return 0===r.indexOf("/share/")&&(r="/share"),"/search/personal"===r?r="/personal":"/search/work"===r?r="/work":"/team_checklist"===r?r="/h":"/business/billing"===r&&(r="/team/admin/billing"),t.setPath(r),t.setQuery().setFragment(),t}Object.defineProperty(t,"__esModule",{value:!0}),t.switchAccount=function(e,t){var a=r(window.location.href,e.viewer,e.viewer.getActiveUser().userId,t);a&&(sessionStorage.setItem("Ensemble.switchedAccounts","true"),window.location.href=a)},t._computeAccountSwitchUrl=r,t.isSharedLinkCase=n,t.computeFeatureBaseUrlFromUrl=o})),define("modules/clean/react/maestro_nav/maestro_nav",["require","exports","tslib","classnames","react","spectrum/vertically_fixed","modules/clean/appshell/account","modules/clean/react/css","modules/clean/react/maestro_nav/shared_code/api","modules/clean/react/maestro_nav/shared_code/maestro_sidebar","modules/clean/react/maestro_nav/shared_code/strings","modules/clean/react/maestro_nav/util/post_tti_components","modules/clean/upsell/prompt_event_emitter","modules/clean/viewer","modules/core/browser","modules/core/xhr","modules/clean/navigation","modules/clean/ajax","modules/clean/web_timing_logger"],(function(e,t,a,r,n,o,s,i,c,l,u,d,m,p,f,v,_,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n),f=a.__importStar(f),h=a.__importStar(h),g=a.__importStar(g);var N=function(e,t){v.sendXhr("/teamswalogger",{event_name:e,extra:JSON.stringify(t),for_uids:JSON.stringify(p.Viewer.get_viewer().get_users().map((function(e){return e.id})))})};function E(e,t){function a(e){return s.computeFeatureBaseUrlFromUrl(e).getPath()}function r(e,t,r){var n=r.map(a);return-1!==n.indexOf(e)&&-1!==n.indexOf(t)}var n=a(t),o=a(e);return!!(r(n,o,["/home","/work","/personal","/history","/s","/sh","/scl"])||r(n,o,["/team/admin","/team/admin/members"])||r(n,o,["/organization","/enterprise_console/teams"]))||n===o}t.isFeatureActive=E;var w=function(){return window.location.href},b=function(e){return n.default.createElement("button",{className:"maestro_nav__toggle",onClick:e.onClick,"aria-label":e.navToggleAriaLabel},n.default.createElement("svg",{width:"24",height:"18",viewBox:"0 0 24 18"},n.default.createElement("g",{fill:"#637282",fillRule:"evenodd"},n.default.createElement("rect",{x:"0",y:"0",width:"24",height:"2",rx:"1"}),n.default.createElement("rect",{x:"0",y:"8",width:"24",height:"2",rx:"1"}),n.default.createElement("rect",{x:"0",y:"16",width:"24",height:"2",rx:"1"}))))},k=function(e){return n.default.createElement("button",{className:"maestro_nav__curtain",onClick:e.onClick,"aria-label":e.navToggleAriaLabel})},S=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return n.default.createElement(P,{activeAccountId:this.props.activeAccountId,viewerInfo:this.props.viewerInfo,products:this.props.products,isFeatureActive:E,showExperimentalNav:this.props.showExperimentalNav,hideCaretOnLogo:this.props.hideCaretOnLogo,allowSidebarNavigationDelegation:this.props.allowSidebarNavigationDelegation,flattenedNav:this.props.flattenedNav,digMigration:this.props.digMigration})},t})(n.default.Component),P=(function(t){function i(r){var o=t.call(this,r)||this;o.navigateToUrl=function(e){f.redirect(e)},o.navSwitchAccount=function(e){var t=p.Viewer.get_viewer();s.switchAccount(window.ensemble,t.get_user_by_role(e,!0).id)},o.handleNavToggle=function(){o.setState({isExpanded:!o.state.isExpanded})},o.handleNavigationClick=function(t,r){if(r.isBlocked)switch(r.blockerModule){case"modules/clean/teams/locked_team_nav_blocker":return new Promise((function(t,a){e(["modules/clean/teams/locked_team_nav_blocker"],t,a)})).then(a.__importStar).then((function(e){return e.blocker.blockNav(r)})),void t.preventDefault();default:return}o.props.allowSidebarNavigationDelegation&&_.navigationActionDispatcher.dispatch({id:r.uniqueName,method:_.getNavigationMethod(t),url:r.url,details:r})&&t.preventDefault()},o.renderLeftHA=function(){return o.state.haProps?n.default.createElement(d.PostTTILeftHA,a.__assign({},o.state.haProps)):null};var i=o.getActiveProduct(o.props.products),c=o.getActiveFeature(i);return o.state={isExpanded:!1,products:o.props.products,teamSize:null,numMembersString:null,viewerInfo:o.props.viewerInfo,activeProduct:i,activeFeature:c,experiments:{},fetching:!0,numRequestsAndSuggestions:0},o}return a.__extends(i,t),i.prototype.getActiveProduct=function(e){var t=this;return e.find((function(e){return t._productIsActive(e)}))||null},i.prototype._productIsActive=function(e){return!!this.props.isFeatureActive(e.url,w())||!!this.getActiveFeature(e)},i.prototype.getActiveFeature=function(e){var t=this;return e&&e.features.find((function(e){return t.props.isFeatureActive(e.url,w())}))||null},i.prototype.getActiveProductAndFeature=function(e){var t=this.getActiveProduct(e);return{activeProduct:t,activeFeature:this.getActiveFeature(t)}},i.prototype.componentDidMount=function(){var e=this;c.fetchNavData(this.props.activeAccountId,(function(t,a,r,n,o){var s=window.performance&&window.performance.mark&&window.performance.measure&&window.location.search.indexOf("show_debug_spans")>-1;s&&window.performance.mark("MaestroNav data setState start"),n=n||e.state.viewerInfo,e.props.flattenedNav&&(t=e.props.products);var i=e.getActiveProductAndFeature(t),c=i.activeProduct,l=i.activeFeature;e.setState({products:t,teamSize:a,numMembersString:r,viewerInfo:n,activeProduct:c,activeFeature:l,experiments:o||{},fetching:!1},(function(){s&&(window.performance.mark("MaestroNav data setState end"),window.performance.measure("MaestroNav data setState","MaestroNav data setState start","MaestroNav data setState end"))})),t.map((function(t){t.redNotification&&g.waitForTTI().then((function(){h.SilentBackgroundRequest({url:"/team/admin/fetch_num_membership_requests_and_suggestions",subject_user:p.Viewer.get_viewer().work_user,success:function(t){e.setState({numRequestsAndSuggestions:Number(t)})}})}))}))})),m.promptBufferedEventEmitter.on(m.Events.ON_HA_LOADED,(function(t){e.setState({haProps:t})}))},i.prototype.setTitle=function(e,t){t&&t.pageTitle?document.title=t.pageTitle:e&&e.pageTitle&&(document.title=e.pageTitle)},i.prototype.productHasFeatures=function(e){return!!e&&e.features.length>0},i.prototype.shouldUseFlattenedNav=function(){return this.props.flattenedNav&&(!this.state.activeProduct||!["admin","federation"].includes(this.state.activeProduct.uniqueName))},i.prototype.render=function(){var e,t=this.state.experiments||{},a=t.inPlusToProTrials,s=t.featuresConfig;e=this.productHasFeatures(this.state.activeProduct)?"Feature":"Product",this.setTitle(this.state.activeProduct,this.state.activeFeature);var i=r.default({"maestro-nav__offset-container":!0,"maestro-nav__expanded":this.state.isExpanded,"dig2--enabled":this.props.digMigration});return n.default.createElement(o.VerticallyFixed,{className:i},n.default.createElement(b,{onClick:this.handleNavToggle,navToggleAriaLabel:u.navToggleAriaLabel()}),n.default.createElement(k,{onClick:this.handleNavToggle,navToggleAriaLabel:u.navToggleAriaLabel()}),n.default.createElement(l.MaestroSidebar,{activeFeature:this.state.activeFeature,activeProduct:this.state.activeProduct,onNavigationClick:this.handleNavigationClick,products:this.state.products,navType:e,navigateToUrl:this.navigateToUrl,switchAccount:this.navSwitchAccount,viewerInfo:this.state.viewerInfo,teamSize:this.state.teamSize,numMembersString:this.state.numMembersString,numRequestsAndSuggestions:this.state.numRequestsAndSuggestions,logger:N,renderLeftHA:this.renderLeftHA,inPlusToProTrials:a,fetching:this.state.fetching,featuresConfig:s,showExperimentalNav:this.props.showExperimentalNav,hideCaretOnLogo:this.props.hideCaretOnLogo,flattenedNav:this.shouldUseFlattenedNav()}))},i})(n.default.Component);t.MaestroNavInternal=P;var y=i.requireCssWithComponent(S,["/static/css/dig-components/index.web-vflAfUkoe.css","/static/css/dig/migration-overrides-vfl3uu41b.css","/static/css/maestro-nav/maestro-nav-vflFLVRFI.css"]);t.MaestroNav=y;var A=function(e){return n.default.createElement("div",{className:"maestro-nav-component"},n.default.createElement(y,a.__assign({},e)))};t.MaestroNavWithWrapper=A,t.RootComponent=function(e){return n.default.createElement(A,a.__assign({},e))}})),define("modules/clean/react/maestro_nav/post_tti/api",["require","exports","tslib","modules/clean/web_timing_logger","modules/clean/react/async/loadable"],(function(e,t,a,r,n){"use strict";function o(){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,r.waitForTTI()];case 1:return t.sent(),[4,new Promise((function(t,a){e(["modules/clean/react/maestro_nav/post_tti/interface"],t,a)})).then(a.__importStar)];case 2:return[2,t.sent()]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.waitForHomeTTI=o,t.PostNavTTIComponent=function(e){var t=this,r=e.getPostTTIRenderer,s=e.preTTIRenderer;return n.Loadable({loader:function(){return a.__awaiter(t,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:return e=r,[4,o()];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))},loading:s})}})),define("modules/clean/react/maestro_nav/shared_code/api",["require","exports","modules/clean/react/maestro_nav/shared_code/constants"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNavData=function(e,t){var r=new XMLHttpRequest,n="https://"+a.WWW_HOST+"/nav_menu?_subject_account_id="+e+"&nav_data_version=4";r.open("GET",n,!0),r.withCredentials=!0,r.onload=function(){if(!(r.status>=200&&r.status<400))throw new Error("Error status "+r.status+" returned from /nav_menu");try{var e=JSON.parse(r.responseText);t(e.products,e.teamSize,e.numMembersString,e.viewerInfo,e.experiments)}catch(e){throw new Error('Error "'+String(e)+'" JSON parsing "'+r.responseText+'" (status: '+r.status+")")}},r.onerror=function(e){var t=e,a={message:t.message,colno:t.colno,filename:t.filename,lineno:t.lineno};throw new Error('Error calling /nav_menu. "'+JSON.stringify(a)+'"')},r.send()}})),define("modules/clean/react/maestro_nav/shared_code/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WWW_HOST="www.dropbox.com"})),define("modules/clean/react/maestro_nav/shared_code/feature-nav",["require","exports","tslib","classnames","react","modules/clean/react/maestro_nav/shared_code/lock_icon","modules/clean/user_education/react/user_education_effect"],(function(e,t,a,r,n,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var i=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onFeatureClick=function(e){return function(a){return t.props.onNavigationClick(a,e)}},t.onProductClick=function(e){return function(a){return t.props.onNavigationClick(a,e)}},t.renderRedBadge=function(){return t.props.activeProduct.redNotification&&(null==t.props.activeFeature||"adminMembers"!==t.props.activeFeature.uniqueName)&&t.props.numRequestsAndSuggestions>0?n.default.createElement("span",{className:"maestro-nav__admin-console-badge"}):null},t.renderNavExperiment=function(){var e=t.props.features;return n.default.createElement("ul",{className:"maestro-nav__products"},e.map((function(e,a){var i=e.url,c=r.default({"maestro-nav__product":!0,"maestro-nav__active-product":e===t.props.activeFeature,"maestro-nav__blocked-feature":e.isBlocked});return n.default.createElement("li",{key:i},n.default.createElement("div",{className:"maestro-nav__product-wrapper"},n.default.createElement(s.UserEducationEffect,{containerName:"FeatureNav",name:e.uniqueName,useSpan:!0},n.default.createElement("a",{href:e.isBlocked?"#":i,className:c,onClick:t.onFeatureClick(e),"data-trackingid":"feat-"+e.uniqueName},e.displayName,e.displaySuperscript?t.renderDisplaySuperscript(e.displaySuperscript):void 0,e.isBlocked&&n.default.createElement(o.LockIcon,{className:"maestro-nav__lock"}),"adminMembers"===e.uniqueName&&t.renderRedBadge()))))})))},t}return a.__extends(t,e),t.prototype.renderDisplaySuperscript=function(e){return n.default.createElement("sup",{className:"maestro-nav__feature-superscript"},e)},t.prototype.render=function(){var e=this,t=this.props,a=t.activeProduct,i=t.features;return t.showExperimentalNav?this.renderNavExperiment():n.default.createElement("ul",{className:"maestro-nav__features"},n.default.createElement("li",null,n.default.createElement("h2",{className:"maestro-nav__features-header"},n.default.createElement("a",{href:a.url,onClick:this.onProductClick(a),className:"maestro-nav__features-header-link"},a.displayName))),i.map((function(t,a){var i=t.url,c=r.default({"maestro-nav__feature":!0,"maestro-nav__active-feature":t===e.props.activeFeature,"maestro-nav__blocked-feature":t.isBlocked});return n.default.createElement("li",{key:i},n.default.createElement("div",{className:"maestro-nav__feature-wrap"},n.default.createElement(s.UserEducationEffect,{containerName:"FeatureNav",name:t.uniqueName,useSpan:!0},n.default.createElement("a",{href:t.isBlocked?"#":i,className:c,onClick:e.onFeatureClick(t),"data-trackingid":"feat-"+t.uniqueName},t.displayName,t.displaySuperscript?e.renderDisplaySuperscript(t.displaySuperscript):void 0,t.isBlocked&&n.default.createElement(o.LockIcon,{className:"maestro-nav__lock"}),"adminMembers"===t.uniqueName&&e.renderRedBadge()))))})))},t})((n=a.__importDefault(n)).default.Component);t.FeatureNav=i})),define("modules/clean/react/maestro_nav/shared_code/flattened-nav",["require","exports","tslib","classnames","react","modules/clean/react/maestro_nav/shared_code/dropbox_logo","modules/clean/react/maestro_nav/shared_code/strings","modules/clean/user_education/react/user_education_effect","modules/clean/react/maestro_nav/shared_code/lock_icon"],(function(e,t,a,r,n,o,s,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){return function(a){return t.props.onNavigationClick(a,e)}},t}return a.__extends(t,e),t.prototype.renderContents=function(){var e=this,t=this.props.products;return n.default.createElement("ul",{className:"maestro-nav__products"},t.map((function(t){return e.renderProduct(t)})))},t.prototype.renderProductDisplaySuperscript=function(e,t){if(e)switch(t){case"badge":return n.default.createElement("span",{className:"maestro-nav__product-badge"},e);default:return n.default.createElement("sup",{className:"maestro-nav__product-superscript"},e)}},t.prototype.renderProduct=function(e){var t=this.props.activeProduct,a=e.features.length>0,o=r.default({"maestro-nav__product":!0,"maestro-nav__product-group":a,"maestro-nav__active-product":e===t&&!a,"maestro-nav__blocked-feature":e.isBlocked}),s=this.renderProductDisplaySuperscript(e.displaySuperscript,e.displaySuperscriptStyle);if(a)return n.default.createElement("li",{key:e.url},n.default.createElement("div",{className:"maestro-nav__product_group-wrapper"},n.default.createElement(i.UserEducationEffect,{containerName:"ProductNav",name:e.uniqueName,useSpan:!0},n.default.createElement("h2",{className:o,id:e.uniqueName,"data-trackingid":"prod-"+e.uniqueName},e.displayName,s,e.isBlocked&&n.default.createElement(c.LockIcon,{className:"maestro-nav__lock"}))),this.renderFeatures(e.features,!!e.openInNewPage)));var l=e.openInNewPage?"_blank":"_self";return n.default.createElement("li",{key:e.url},n.default.createElement("div",{className:"maestro-nav__product-wrapper"},n.default.createElement(i.UserEducationEffect,{containerName:"ProductNav",name:e.uniqueName,useSpan:!0},n.default.createElement("a",{"aria-current":e===t&&"page",href:e.isBlocked?"#":e.url,className:o,id:e.uniqueName,onClick:this.onClick(e),target:l,rel:"noopener","data-trackingid":"prod-"+e.uniqueName},e.displayName,s,e.isBlocked&&n.default.createElement(c.LockIcon,{className:"maestro-nav__lock"})))))},t.prototype.renderFeatureDisplaySuperscript=function(e){return n.default.createElement("sup",{className:"maestro-nav__feature-superscript"},e)},t.prototype.renderFeatures=function(e,t){var a=this,o=this.props.activeFeature;return n.default.createElement("ul",{className:"maestro-nav__features"},e.map((function(e,s){var l=t?"_blank":"_self",u=e.url,d=r.default({"maestro-nav__product":!0,"maestro-nav__active-product":e===o,"maestro-nav__blocked-feature":e.isBlocked});return n.default.createElement("li",{key:u},n.default.createElement("div",{className:"maestro-nav__product-wrapper"},n.default.createElement(i.UserEducationEffect,{containerName:"FeatureNav",name:e.uniqueName,useSpan:!0},n.default.createElement("a",{href:e.isBlocked?"#":u,className:d,onClick:a.onClick(e),target:l,rel:"noopener","data-trackingid":"feat-"+e.uniqueName},e.displayName,e.displaySuperscript?a.renderFeatureDisplaySuperscript(e.displaySuperscript):void 0,e.isBlocked&&n.default.createElement(c.LockIcon,{className:"maestro-nav__lock"})))))})))},t.prototype.renderDropboxLogo=function(){var e=this.props.onHomeClick,t=n.default.createElement(o.DropboxLogo,{className:"maestro-nav__logo",color:"","aria-label":s.homeAriaLabel()});return this.props.dropboxLogoUrl?n.default.createElement("a",{className:"maestro-nav__home-button",href:this.props.dropboxLogoUrl,onClick:e,"data-trackingid":"logo"},t):t},t.prototype.render=function(){return n.default.createElement("div",{className:"maestro-nav__panel"},this.renderDropboxLogo(),n.default.createElement("div",{className:"maestro-nav__contents"},this.renderContents()),this.props.renderLeftHA&&this.props.renderLeftHA())},t})((n=a.__importDefault(n)).default.Component);t.FlattenedNav=l})),define("modules/clean/react/maestro_nav/shared_code/footer_nav",["require","exports","tslib","react","classnames","react-aria-menubutton","modules/clean/react/maestro_nav/shared_code/constants","modules/clean/react/maestro_nav/shared_code/strings","modules/clean/user_education/react/user_education_effect","modules/clean/user_education/user_education_client"],(function(e,t,a,r,n,o,s,i,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n),o=a.__importStar(o);var u,d=function(e){var t=e.className;return r.default.createElement("svg",{className:t,viewBox:"0 0 24 24"},r.default.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"form",transform:"translate(-160.000000, -32.000000)",fill:"#000000"},r.default.createElement("g",{id:"form-switcher",transform:"translate(160.000000, 32.000000)"},r.default.createElement("path",{d:"M10.5,9 L8.26000214,9 L12.0100021,4 L15.7600021,9 L13.5,9 L12,7 L10.5,9 Z",id:"Combined-Shape"}),r.default.createElement("path",{d:"M10.5,20 L8.26000214,20 L12.0100021,15 L15.7600021,20 L13.5,20 L12,18 L10.5,20 Z",id:"Combined-Shape",transform:"translate(12.010002, 17.500000) scale(1, -1) translate(-12.010002, -17.500000) "})))))},m=function(e){var t=e.className;return r.default.createElement("svg",{className:t,viewBox:"0 0 24 24"},r.default.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"form",transform:"translate(-32.000000, -96.000000)",fill:"#000000"},r.default.createElement("g",{id:"check",transform:"translate(32.000000, 96.000000)"},r.default.createElement("path",{d:"M13.1239594,15.613961 L9.12395935,15.613961 L9.12395935,17.613961 L14.1239594,17.613961 L15.1239594,17.613961 L15.1239594,5.61396103 L13.1239594,5.61396103 L13.1239594,15.613961 Z",id:"Combined-Shape",transform:"translate(12.123959, 11.613961) rotate(-315.000000) translate(-12.123959, -11.613961) "})))))},p="team/admin/members",f="team";(function(e){e[e.ADD_PERSONAL=0]="ADD_PERSONAL",e[e.ADD_WORK=1]="ADD_WORK",e[e.GOTO_WORK=2]="GOTO_WORK",e[e.GOTO_PERSONAL=3]="GOTO_PERSONAL"})(u||(u={}));var v=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.strings=i.footerStrings(),t.handleSelection=function(e){var a=t.props,r=a.activeRole,n=a.navigateToUrl,o=a.switchAccount;switch(e){case u.ADD_PERSONAL:n("https://"+s.WWW_HOST+"/team/join/new_pair");break;case u.ADD_WORK:n("https://"+s.WWW_HOST+"/team?_tk=account_switcher");break;case u.GOTO_PERSONAL:"work"===r&&o("personal");break;case u.GOTO_WORK:"personal"===r&&o("work")}},t.handleMenuButtonClick=function(e){var a=t.props,r=a.logger,n=a.userPlanType;r&&n&&r("clicked_acct_switcher",{user_plan_type:n}),l.UEClient.sendEvent("NavSwitcher","MenuButtonClicked")},t.handleTeamPagePress=function(e){13===e.keyCode&&(e.preventDefault(),l.UEClient.sendEvent("NavSwitcher","TeamPageAction"),t.navigateToTeamPage()),e.stopPropagation()},t.handleTeamPageClick=function(e){e.stopPropagation(),l.UEClient.sendEvent("NavSwitcher","TeamPageAction"),t.navigateToTeamPage()},t.navigateToTeamPage=function(){var e,a=t.props,r=a.isAdmin,n=a.isPaidTeam;e=r&&n?p:f,t.props.navigateToUrl("https://"+s.WWW_HOST+"/"+e)},t.MenuItem=function(e){return r.default.createElement(o.MenuItem,{className:n.default({"maestro-nav-switcher-menu-item":!0,"maestro-nav-switcher-menu-item--selected":e.selected}),role:"menuitemradio","aria-checked":e.selected?"true":"false",value:e.value},r.default.createElement(m,{className:"maestro-nav-switcher-menu-item__checkmark"}),r.default.createElement("div",{className:"maestro-nav-switcher-menu-item__info"},r.default.createElement("div",{className:"maestro-nav-switcher-menu-item__title"},e.label),r.default.createElement(c.UserEducationEffect,{containerName:"NavSwitcher",name:"ActionMenuItem"+(e.selected?"Selected":"")},r.default.createElement("div",{className:"maestro-nav-switcher-menu-item__action"},e.action))))},t.Menu=function(){var e,a,n,s,i,l,d=t.strings,m=t.props,p=m.teamName,f=m.isPaired,v="personal"===m.activeRole;if(f||v?(e=d.personalString,a=null,n=u.GOTO_PERSONAL):(e=d.addPersonalDropboxString,a=r.default.createElement("span",{className:"maestro-nav-switcher-menu-item__action-text"},d["2GbFreeString"]),n=u.ADD_PERSONAL),!f&&v)s=d.tryDropboxBusinessFreeString,l=u.ADD_WORK;else{s=p||d.workString;var _=t.getTeamActionLabel();i=v?r.default.createElement("span",{className:"maestro-nav-switcher-menu-item__action-text"},_):r.default.createElement("button",{onKeyDown:t.handleTeamPagePress,onClick:t.handleTeamPageClick},_),l=u.GOTO_WORK}return r.default.createElement(o.Menu,{className:"maestro-nav-switcher-menu"},r.default.createElement(c.UserEducationEffect,{containerName:"NavSwitcher",name:"AriaMenuButton.Menu"},r.default.createElement(t.MenuItem,{selected:!v,label:s,action:i,value:l}),r.default.createElement(t.MenuItem,{selected:v,label:e,action:a,value:n})))},t.navSwitcherInfo=function(){var e,a,n=t.strings,o=t.props,s=o.teamName,i=o.numMembersString;return"personal"===o.activeRole?(e=n.personalString,a=n.onlyYouString):(e=s,a=null==i?n.workDropboxString:i),r.default.createElement("div",{className:"maestro-nav-switcher-button__info"},r.default.createElement("div",{className:"maestro-nav-switcher-button__title"},e),r.default.createElement("div",{className:"maestro-nav-switcher-button__label"},a))},t.MenuButton=function(){return r.default.createElement(o.Button,{className:"maestro-nav-switcher-button"},r.default.createElement("div",{className:"maestro-nav-switcher-button__content",onClick:t.handleMenuButtonClick},r.default.createElement(t.navSwitcherInfo,null),r.default.createElement(d,{className:"maestro-nav-switcher-button__icon"})))},t}return a.__extends(t,e),t.prototype.getTeamActionLabel=function(){var e=this.strings,t=this.props,a=t.teamSize,r=t.numMembersString,n="personal"===t.activeRole;return null==a?n?e.workDropboxString:e.groupsAndMembersString:n||a<50?r:e.groupsAndMembersString},t.prototype.render=function(){return this.props.makeSwitcherReadOnly?r.default.createElement("div",{className:"maestro-nav-switcher"},r.default.createElement("div",{className:"maestro-nav-switcher-button__content"},r.default.createElement(this.navSwitcherInfo,null))):r.default.createElement(o.Wrapper,{className:"maestro-nav-switcher",onSelection:this.handleSelection,closeOnSelection:!1},r.default.createElement(this.MenuButton,null),r.default.createElement(this.Menu,null))},t})(r.default.Component),_=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),Object.defineProperty(t.prototype,"showReadOnly",{get:function(){var e=this.props,t=e.inPlusToProTrials,a=e.fetching,r=e.featuresConfig,n=e.viewerInfo;if(a||n.isGuestAdmin)return!0;var o=n.activeRole,s=n.isPaired,i="personal"===o,c=r&&r.hideDropboxBusinessUpsell;return(Boolean(c)||Boolean(t))&&!s&&i},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.teamSize,a=e.numMembersString,n=e.viewerInfo,o=e.navigateToUrl,s=e.switchAccount,i=e.logger,l=n.activeRole,u=n.isAdmin,d=n.isPaidTeam,m=n.isPaired,p=n.teamName,f=n.userPlanType;return r.default.createElement("div",{className:"maestro-nav-footer"},r.default.createElement(c.UserEducationEffect,{containerName:"FooterNav",name:"NavSwitcher"},r.default.createElement(v,{teamSize:t,numMembersString:a,teamName:p,isPaired:m,navigateToUrl:o,switchAccount:s,activeRole:l,isAdmin:u,isPaidTeam:d,userPlanType:f,logger:i,makeSwitcherReadOnly:this.showReadOnly})))},t})(r.default.Component);t.FooterNav=_})),define("modules/clean/react/maestro_nav/shared_code/lock_icon",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),t.LockIcon=function(e){return r.default.createElement("svg",a.__assign({},e,{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"8px",height:"10px",viewBox:"0 0 8 10"}),r.default.createElement("title",null,e.alt||"Lock"),r.default.createElement("g",{"fill-rule":"evenodd",style:{fill:"none"}},r.default.createElement("path",{d:"M1.5,5.0233365 C1.61081383,5.07571391 1.79156144,5.1271516 2.02641537,5.1695923 C2.53116508,5.26080616 3.23772228,5.30304304 3.99147442,5.29018883 C4.72697272,5.27764591 5.44536431,5.2134662 5.96818405,5.1130429 C6.19749663,5.0689965 6.37973948,5.0195837 6.5,4.97094138 C6.5,4.61127567 6.5,4.5367094 6.5,3.97982189 L6.5,2.55833246 C6.5,1.44077827 5.39680687,0.5 4,0.5 C2.60319313,0.5 1.5,1.44077827 1.5,2.55833246 L1.5,4.08873795 C1.5,4.48924589 1.5,4.52037046 1.5,5.0233365 Z",style:{stroke:"#6a7c8f",strokeWidth:1}}),r.default.createElement("rect",{x:"0.5",y:"4.5",width:"7",height:"5",rx:"1",style:{fill:"#6a7c8f",stroke:"#6a7c8f",strokeWidth:1}})))}})),define("modules/clean/react/maestro_nav/shared_code/maestro_sidebar",["require","exports","tslib","react","modules/clean/react/maestro_nav/shared_code/constants","modules/clean/react/maestro_nav/shared_code/footer_nav","modules/clean/react/maestro_nav/shared_code/nested-nav","modules/clean/react/maestro_nav/shared_code/flattened-nav"],(function(e,t,a,r,n,o,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(function(e){function t(t){return e.call(this,t)||this}return a.__extends(t,e),t.prototype.renderContents=function(){return this.props.flattenedNav?r.createElement(i.FlattenedNav,{activeFeature:this.props.activeFeature,activeProduct:this.props.activeProduct,onNavigationClick:this.props.onNavigationClick,onHomeClick:this.props.onHomeClick,products:this.props.products,renderLeftHA:this.props.renderLeftHA,dropboxLogoUrl:this.props.viewerInfo.isGuestAdmin?null:"https://"+n.WWW_HOST+"/",hideCaret:this.props.hideCaretOnLogo}):r.createElement(s.NestedNav,{activeFeature:this.props.activeFeature,activeProduct:this.props.activeProduct,onNavigationClick:this.props.onNavigationClick,onHomeClick:this.props.onHomeClick,nestedNavLevel:this.props.navType,products:this.props.products,renderLeftHA:this.props.renderLeftHA,dropboxLogoUrl:this.props.viewerInfo.isGuestAdmin?null:"https://"+n.WWW_HOST+"/",numRequestsAndSuggestions:this.props.numRequestsAndSuggestions,showExperimentalNav:this.props.showExperimentalNav,hideCaret:this.props.hideCaretOnLogo})},t.prototype.renderFooter=function(){return r.createElement(o.FooterNav,{navigateToUrl:this.props.navigateToUrl,switchAccount:this.props.switchAccount,viewerInfo:this.props.viewerInfo,teamSize:this.props.teamSize,numMembersString:this.props.numMembersString,logger:this.props.logger,inPlusToProTrials:this.props.inPlusToProTrials,fetching:this.props.fetching,featuresConfig:this.props.featuresConfig})},t.prototype.render=function(){return r.createElement("div",{className:"maestro-nav__container"},this.renderContents(),this.renderFooter())},t})((r=a.__importStar(r)).Component);t.MaestroSidebar=c})),define("modules/clean/react/maestro_nav/shared_code/nested-nav",["require","exports","tslib","react","modules/clean/react/maestro_nav/shared_code/dropbox_logo","modules/clean/react/maestro_nav/shared_code/feature-nav","modules/clean/react/maestro_nav/shared_code/product-nav","modules/clean/react/maestro_nav/shared_code/strings"],(function(e,t,a,r,n,o,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),t.LeftArrowSVGIcon=function(e){var t=e.className;return r.default.createElement("svg",{className:t,width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},r.default.createElement("title",null),r.default.createElement("g",{id:"arrow",transform:"translate(-32.000000, -32.000000)"},r.default.createElement("g",{id:"arrow-left",transform:"translate(32.000000, 32.000000)"},r.default.createElement("polygon",{id:"Combined-Shape",points:"12.9497475 7.05000305 8 11.9997505 12.9497475 16.949498 14.363961 15.5352844 10.8284271 11.9997505 14.363961 8.46421661"}))))};var c=(function(e){function c(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(c,e),c.prototype.renderContents=function(){if("Feature"===this.props.nestedNavLevel&&this.props.activeProduct){var e=this.props.activeProduct;return r.default.createElement(o.FeatureNav,{activeProduct:e,activeFeature:this.props.activeFeature,features:e.features,onNavigationClick:this.props.onNavigationClick,showExperimentalNav:this.props.showExperimentalNav,numRequestsAndSuggestions:this.props.numRequestsAndSuggestions})}return r.default.createElement(s.ProductNav,{products:this.props.products,activeProduct:this.props.activeProduct,onNavigationClick:this.props.onNavigationClick,numRequestsAndSuggestions:this.props.numRequestsAndSuggestions})},c.prototype.renderDropboxLogo=function(){var e=this.props,a=e.hideCaret,o=e.nestedNavLevel,s=e.onHomeClick,c="Feature"===o&&!a,l=r.default.createElement(t.LeftArrowSVGIcon,{className:"maestro-nav__caret"}),u=r.default.createElement(n.DropboxLogo,{className:"maestro-nav__logo",color:"","aria-label":i.homeAriaLabel()});return this.props.dropboxLogoUrl?r.default.createElement("a",{className:"maestro-nav__home-button",href:this.props.dropboxLogoUrl,onClick:s,"data-trackingid":"logo"},u,c&&l):u},c.prototype.render=function(){return r.default.createElement("div",{className:"maestro-nav__panel"},this.renderDropboxLogo(),r.default.createElement("div",{className:"maestro-nav__contents"},this.renderContents()),this.props.renderLeftHA&&this.props.renderLeftHA())},c})(r.default.Component);t.NestedNav=c})),define("modules/clean/react/maestro_nav/shared_code/product-nav",["require","exports","tslib","react","classnames","modules/clean/react/maestro_nav/shared_code/lock_icon","modules/clean/user_education/react/user_education_effect"],(function(e,t,a,r,n,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),n=a.__importDefault(n);var i=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){return function(a){return t.props.onNavigationClick(a,e)}},t}return a.__extends(t,e),t.prototype.renderDisplaySuperscript=function(e,t){if(e)switch(t){case"badge":return r.default.createElement("span",{className:"maestro-nav__product-badge"},e);default:return r.default.createElement("sup",{className:"maestro-nav__product-superscript"},e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.activeProduct,i=t.products,c=t.numRequestsAndSuggestions;return r.default.createElement("ul",{className:"maestro-nav__products"},i.map((function(t){var i=n.default({"maestro-nav__product":!0,"maestro-nav__active-product":t===a,"maestro-nav__blocked-feature":t.isBlocked}),l=t.openInNewPage?"_blank":"_self",u=e.renderDisplaySuperscript(t.displaySuperscript,t.displaySuperscriptStyle),d=t.redNotification&&c>0?r.default.createElement("span",{className:"maestro-nav__admin-console-badge"}):null;return r.default.createElement("li",{key:t.url},r.default.createElement("div",{className:"maestro-nav__product-wrapper"},r.default.createElement(s.UserEducationEffect,{containerName:"ProductNav",name:t.uniqueName,useSpan:!0},r.default.createElement("a",{"aria-current":t===a&&"page",href:t.isBlocked?"#":t.url,className:i,id:t.uniqueName,onClick:e.onClick(t),target:l,rel:"noopener","data-trackingid":"prod-"+t.uniqueName},t.displayName,u,t.isBlocked&&r.default.createElement(o.LockIcon,{className:"maestro-nav__lock"}),d))))})))},t})(r.default.Component);t.ProductNav=i})),define("modules/clean/react/maestro_nav/shared_code/strings",["require","exports","tslib","modules/constants/maestro_nav_strings"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r),t.footerStrings=function(){return r.footerStrings},t.homeAriaLabel=function(){return r.homeAriaLabel},t.navToggleAriaLabel=function(){return r.navToggleAriaLabel}})),define("modules/clean/react/maestro_nav/util/post_tti_components",["require","exports","tslib","react","modules/clean/react/maestro_nav/post_tti/api"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),t.PostTTILeftHA=n.PostNavTTIComponent({getPostTTIRenderer:function(e){var t=e.MaestroHA;return function(e){return r.default.createElement(t,{haProps:e})}}})})),define("modules/clean/upsell/prompt_init",["require","exports","tslib","modules/clean/upsell/exception","modules/clean/upsell/prompt_event_emitter"],(function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r);var o=(function(){function e(e){this.prompt_loaded_status=e}return e.prototype.didHeaderBubbleLoad=function(){return!!this.prompt_loaded_status.HEADER_BUBBLE},e.prototype.didHomeModalLoad=function(){return!0==!!this.prompt_loaded_status.HOME_MODAL},e.prototype.didTargetedBubbleLoad=function(){return!0==!!this.prompt_loaded_status.TARGETED_BUBBLE},e.prototype.didHeaderLinkLoad=function(){return!0==!!this.prompt_loaded_status.HEADER_LINK},e.prototype.didCampaignForUserEducationLoad=function(){return!!this.prompt_loaded_status.ONBOARDING_MODULE},e.prototype.didMainCampaignLoad=function(){return this.didHeaderBubbleLoad()||this.didTargetedBubbleLoad()||this.didHomeModalLoad()},e.prototype.didAccountHeaderCampaignLoad=function(){return this.didHeaderBubbleLoad()||this.didHeaderLinkLoad()},e.prototype.didTopNotificationLoad=function(){return!!this.prompt_loaded_status.TOP_NOTIFICATION},e.prototype.didAnyContentLoad=function(){return this.didHeaderBubbleLoad()||this.didHomeModalLoad()||this.didTargetedBubbleLoad()||this.didHeaderLinkLoad()||this.didTopNotificationLoad()},e})();t.ResponseParser=o,t.initialize_module=function(e){window.performance&&window.performance.mark&&window.performance.measure&&window.location.search.indexOf("show_debug_spans")>-1&&window.performance.mark("PromptInit start");try{var t=new o(e.prompt_loaded_status);n.promptBufferedEventEmitter.emit(n.Events.ON_PROMPT_INITIALIZED,t)}catch(t){r.reportException({err:t,tags:[r.TAGS.PROMPT_INIT],exc_extra:{param_config:e}})}}})),define("modules/clean/upsell/prompt_event_emitter",["require","exports","tslib","eventemitter3"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r);t.Events={ON_HA_LOADED:"ON_HA_LOADED",REACT_HA_DID_UPDATE:"REACT_HA_DID_UPDATE",ON_PROMPT_INITIALIZED:"ON_PROMPT_INITIALIZED",ON_PROMPT_SHOWN:"ON_PROMPT_SHOWN",ON_PROMPT_DISMISSED:"ON_PROMPT_DISMISSED"};var n=new r.default;t.eventEmitter=n;var o=(function(e){function t(){var t=e.call(this)||this;return t.allEventBuffers={},t}return a.__extends(t,e),t.prototype.on=function(t,a){var r=this;e.prototype.on.call(this,t,a);var n=this.allEventBuffers[t.toString()];return void 0!==n&&n.forEach((function(e){r.emit(t,e)})),this},t.prototype.emit=function(t,a){return t=t.toString(),void 0===this.allEventBuffers[t]&&(this.allEventBuffers[t]=[]),this.allEventBuffers[t].push(a),e.prototype.emit.call(this,t,a)},t.prototype.reset=function(){this.allEventBuffers={},this.removeAllListeners()},t})(r.default);t.BufferedEventEmitter=o,window.ensemble&&!window.ensemble.bufferedEventEmitter&&(window.ensemble.bufferedEventEmitter=new o);var s=window.ensemble&&window.ensemble.bufferedEventEmitter?window.ensemble.bufferedEventEmitter:new o;t.promptBufferedEventEmitter=s}));
//# sourceMappingURL=pkg-maestro-nav.min.js-vflXyA9R-.map