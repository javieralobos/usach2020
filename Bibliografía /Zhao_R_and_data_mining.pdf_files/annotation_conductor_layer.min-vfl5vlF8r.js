define(["require","exports","tslib","external/lodash","react-redux","reselect","modules/clean/react/comments2/data/actions","modules/clean/react/comments2/data/selectors","comments2/transforms","modules/clean/react/css","comments2/components/annotation_conductor_layer"],(function(n,e,t,o,a,r,i,s,c,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o=t.__importStar(o),s=t.__importStar(s);var m=a.connect((function(){var n=r.createSelector([s.getPendingNumberedAnnotation,function(n,e){return e.page}],(function(n,e){return n&&(function(n,e){return"image"===n.type?o.isUndefined(e):n.regions[0].page===e})(n,e)?c.numberedAnnotationToIInteractionAnnotation(n):null}));return function(e,t){return s.getIsComments2Ready(e)?{canCreate:s.canCreateAnnotations(e),canDismiss:s.getEditorIsEmpty(e),annotation:n(e,t)}:{canCreate:!1,canDismiss:!1,annotation:null}}}),(function(n,e){var o=e.layerSize,a=e.page;return{onClick:function(e){return n(i.Actions.activateThreadByLayerClick(t.__assign(t.__assign({},e),{page:a}),o))},onAnnotationChange:function(e,t){null===e?n(i.Actions.clearPendingNumberedAnnotation()):(n(i.Actions.setPendingNumberedAnnotation(c.iInteractionAnnotationToNumberedAnnotation(e,a))),t||(n(i.Actions.requestEditorFocus()),n(void 0!==a?i.Actions.markOnboardedIfUnmarked("document_preview_surface"):i.Actions.markOnboardedIfUnmarked("image_preview_surface"))))},onHoverPointChange:function(e){n(e?i.Actions.hoverThreadByLayer(t.__assign(t.__assign({},e),{page:a}),o):i.Actions.hoverThread(void 0))}}}),(function(n,e,a){return t.__assign(t.__assign(t.__assign({},n),e),o.omit(a,"page"))}))(d.AnnotationConductorLayer),_=u.requireCssWithComponent(m,["/static/js/comments2/index.web-vflV6GXjO.css"]);e.AnnotationConductorLayer=_}));
//# sourceMappingURL=annotation_conductor_layer.min.js-vflYieE2D.map